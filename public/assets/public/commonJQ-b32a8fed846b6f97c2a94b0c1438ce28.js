function submitAjax(e){e.callback=e.callback?e.callback:function(){return 1},e.method=e.method&&"POST"==e.method?e.method:"GET";var t="";return e.formName&&(t=$("form[name="+e.formName+"]").serialize()),$.ajax({type:e.method,url:e.strURL,data:t,dataType:"html",beforeSend:function(){e.loader&&$("#"+e.loader).show(),$("#"+e.whatToUpdate).html("")},success:function(t){$("#"+e.whatToUpdate).html(t),$("#"+e.whatToUpdate).slideDown(),e.callback()},error:function(){var t='<div class="alert">Sorry, an error occurred. Please try again or contact the admin.</div>';$("#"+e.whatToUpdate).html(t)},complete:function(){e.loader&&$("#"+e.loader).hide()}}),!1}function killFlash(){$("#flashMessageBackground").remove()}function popup(e,t){if(!window.focus)return!0;var a;return a="string"==typeof e?e:e.href,a&&""!=a&&window.open(a,t,"width=1100,height=600,scrollbars=yes"),!1}function setupFlash(e,t,a){if(e){var n=$("#flashMessageBackground");n.length<1&&(n=$('<div id="flashMessageBackground" style="display:none;"></div>').appendTo("body")),n.show(),$(document).height()&&n.height($(document).height()+"px");var o=$("#flashMessageContainer");o.length<1?(o=$('<div id="flashMessageContainer" class="flashGood"></div>'),n.append(o)):o.prop("class","flashGood");var s=$("#flashTitle");s.length<1&&(s=$('<div id="flashTitle"></div>'),o.prepend(s));var i=$("#tText");i.length<1&&(i=$('<p id="tText"></p>'),s.prepend(i)),t.length<1&&(t="Loading..."),i.html(t);var l=$("#closeFlash");l.length<1&&s.prepend('<img src=/tools/assets/css/close-e0678cf9cafc0554cf504bbcc0b71a90.png onclick="killFlash(); return false;" alt="Close" id="closeFlash"/>');var r=$("#flashMessageText");r.length<1&&(r=$('<div id="flashMessageText"></div>'),o.append(r)),a||(a=""),r.html(a);var d=$(window).height()/2-o.height()/2-30;d>0&&(o[0].style.top=d+"px"),window.scrollTo(0,0)}return"function"==typeof moveDisabled&&setTimeout("moveDisabled('disabler','screeninfo')",50),1}function showFieldHint(e){$("div.field-hint").prop("class","field-hint-inactive"),e=$(e);var t=e.prev();$(t).css("left",e.offset().left+e.outerWidth()),t.prop("class","field-hint")}function updateFlash(e,t,a){var n=$("#tText"),o=$("#flashMessageText"),s=$("#flashMessageContainer");t&&n.html(t),e&&o.length>0&&o.html(e.replace(/[\r\n]+/g,"")),a&&s.prop("class",a);var i=$(window).height()/2-s.height()/2-30;i>0&&s.css("top",i+"px")}function updateInteractive(e,t,a,n,o,s){var i=$("#flashMessageContainer .buttonContainer");if($("#flashMessageContainer .buttonContainer").length<1&&(i=$('<div class="buttonContainer"></div>')),e){var l=$('<div class="continueButton">Continue</div>');l.click(function(){confirmContinue(a,n,o,s)}),i.append(l)}t&&i.prepend('<div class="cancelButton" onclick=killFlash();>Cancel</div>'),$("#flashMessageText").append(i)}function confirmContinue(e,t,a,n){$("#"+e).val("true"),$("#flashMessageContainer .buttonContainer").remove(),$("form[name='"+n+"']").submit(),updateFlash(t,a,"flashGood")}