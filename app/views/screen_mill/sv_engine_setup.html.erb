<style type="text/css">
label{
	margin-bottom:3px;
	font-size:120%;
}
</style>
<script type="text/javascript">

	$(document).ready(function(){

		$("#svForm").validate({
			submitHandler: function(form) {
				setupFlash(true, "Initializing <i>SV Engine</i>...", "Uploading Data");
				form.submit();
			}
		});

		$('.fieldhint')
			.focus(function(){showFieldHint(this);})
			.mouseover((function(){showFieldHint(this);}))
			.blur(function(){$(this).prev().prop('class','field-hint-inactive');})
			.mouseout(function(){$(this).prev().prop('class','field-hint-inactive');});
	});
</script>

<%= javascript_include_tag 'validationJQ', "data-turbolinks-track" => true  %>
<%= stylesheet_link_tag 'dr_engine/flash_message', "data-turbolinks-track" => true %>
<%= stylesheet_link_tag 'field_hints', "data-turbolinks-track" => true%>
<%= stylesheet_link_tag 'validation', "data-turbolinks-track" => true%>

<%= render partial: "layouts/top" %>

<div id="body">
	<div class="notes" style="float:left;margin-left:20px;width:auto;">
		<h4>Notes</h4>
		<div style="font-weight:bold;color:black;margin-bottom:10px;">
		For instructions for how to use <i>SV Engine</i> please see:<div style="padding:5px;"><a href="http://www.ncbi.nlm.nih.gov/pubmed/20584323" class="ext_link" >Dittmar JC, Reid RJ, Rothstein R. "ScreenMill: a freely available software suite for growth measurement, analysis and visualization of high-throughput screen data." BMC BioInformatics. 2010.</a></div>This paper should also be referenced if you use any <i>ScreenMill</i> results in a publication.<br/></div>
		<p>
			<strong>WHEN RUNNING <i>SV ENGINE</i> <u>DO NOT</u> USE YOUR BROWSERS BACK BUTTON!</strong>
			<em>  You may reload a page, but if you do so you will lose all of the colonies you have selected on the page that you are reloading.</em>
		</p><br/>
		<p><strong><u>Log File</u></strong> - This is typically the file generated from the <i>ScreenMill <b>C</b>olony <b>M</b>easurement Engine</i>. If you have used an alternative method to quantify your results, please ensure that it fulfills the log file formatting requirements.<br/><b><%= link_to "Click here for information about properly formatting your own log file.", screen_mill_log_file_info_path, class: "ext_link", title: "Log File Notes" %></b></p>
		<br/>
		<p><strong><u>ScreenMillStats-All Data File</u></strong> - this must be the original, unadulterated ScreenMillStats-All.txt file generated by the <i>ScreenMill <b>D</b>ata <b>R</b>eview Engine</i>.</p><br/>
	</div>
	<br style="clear:both;height:0px;line-height:0px"/>
	<form id="svForm" name="svEngineSetup" enctype="multipart/form-data" action="<%=ENV['RAILS_RELATIVE_URL_ROOT']%>/cgi-bin/sv_engine/setup.cgi" method = "post" target="result_fake" style="color:#00008B;margin-left:20px;padding-right:10px;">
	<input type='hidden' name='authenticity_token' id='authenticity_token' value="<%= form_authenticity_token %>" />
		<div style ="clear:left;float:left;">
			<label for="control "><b>Comparer Query:</b></label>
			<div class="field-hint-inactive" id="control-H">
				<div>Enter the query you used as your comparer. This must be the same as it appears in your ScreenMillStats-All.txt and log files.</div>
			</div>
			<input type="text" class="required field_associates fieldhint" id="control" name="control"  title="Please enter your comparer query." />
		</div>
		<div id="colony_data" style ="clear:left;float:left;">
			<label for="colony_data"><b>Log File:</b></label>
			<input type="file" name="logFile" id="colony_data1" class="required field_associates" title="Please input a log file"  />
		</div>
		<div style ="clear:left;float:left;">
			<label for="out_all"><b>ScreenMillStats-All Data File:</b></label>
			<input type="file" name="out_all" class="required field_associates" id="out_all" title="Please input your ScreenMillStats-all data file"/>
		</div>
		<div style ="clear:left;float:left;">
			<input type="hidden" id="input_type" name="processing_choice" value="log_file" />
			<input type="hidden" id="ignoreID" name="ignoreID" value="false" />
			<input type="hidden" id="dontDorryAboutMissingValues" name="dontDorryAboutMissingValues" value="false" />
			<input type="submit" value="&raquo; Submit &laquo;" style="margin:15px 0px 15px 0px;" class="commit" />
		</div>
	</form>
</div>
<iframe name="result_fake" id="result_fake" style="display:none;"></iframe>
</div>
